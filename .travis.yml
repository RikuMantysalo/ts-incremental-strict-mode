language: node_js
sudo: false
cache:
  directories:
    - "node_modules"
node_js:
  - 13
  - 12
  - 10
  - 8
install:
  - yarn
  - yarn add codecov

jobs:
include:
  - stage: test
    name: "Prettier/Lint/Test"
    script:
      - yarn prettier --check './{src,__mocks__}/**'
      - yarn eslint './{src,__mocks__}/**'
      - yarn jest --coverage
  - stage: test
    - stage: build
      name: "Build"
      script:
        - yarn build
after_success:
  - yarn codecov

